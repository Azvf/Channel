# GameplayTag 文档中心

## 文档结构说明

根据**"代码即文档"**和**"工具强制"**的理念，文档已重构为**稳定层（Principles）**和**易变层（Reference）**。

> 📖 **文档开发规范**: 所有文档编写和维护必须遵循 [《文档开发与维护规范》](./文档开发与维护规范.md)。

### 稳定层（Principles）- 极少变动

这些文档阐述**"为什么我们要这么做"**，是项目的灵魂：

1. **[框架开发规范文档](./GameplayTag%20框架开发规范文档.md)**
   - 分层架构原则
   - 依赖方向规则
   - 设计模式与最佳实践
   - **架构守护**: 依赖规则由 `dependency-cruiser` 强制执行

2. **[交互与体验开发手册](./GameplayTag%20交互与体验开发手册.md)**
   - 乐观更新哲学
   - 物理感核心原则
   - 渲染性能规范（RAIL 模型）
   - **架构守护**: 乐观更新提醒由 ESLint 规则强制执行

3. **[无障碍设计规范](./无障碍设计规范.md)**
   - 无障碍访问标准
   - 微文案与内容策略
   - 错误处理与反馈分级
   - 设计工程化协作规范

### 易变层（Reference）- 自动生成/指向代码

这些文档是**"怎么做"**的参考手册，每次 Commit 都可能变化：

1. **[设计系统规范](./GameplayTag%20Design%20System%20Specification.md)**
   - **单一真理源**: 所有设计值定义在 `src/design-tokens/tokens.ts`
   - 文档仅说明语义，具体数值由 Token 系统管理
   - 参考: Storybook "Design Tokens" 章节

2. **[工程化与构建指南](./工程化与构建指南.md)**
   - 构建工作流与检查系统
   - 自动代码生成 (Codegen)
   - 环境配置 (Supabase, 组件脚手架)
   - Schema-Driven Development (SDD)
   - 视觉回归测试

3. **API 契约**
   - RPC 接口定义: `src/shared/rpc-protocol/protocol.ts`
   - 建议使用 TypeDoc 自动生成文档

4. **组件库**
   - 组件 Props 和用法: Storybook
   - 运行: `npm run storybook`

## 架构守护工具

### 🚀 自动构建时检查

**重要**: 所有架构检查已集成到构建流程中！

运行 `npm run build` 时会自动执行：
- ✅ TypeScript 类型检查
- ✅ ESLint 检查（包含自定义规则）
- ✅ 依赖架构检查（dependency-cruiser）
- ✅ Design Tokens 生成

如果任何检查失败，构建将停止。这确保了生产代码始终符合架构规范。

> 详细说明请查看 [工程化与构建指南](./工程化与构建指南.md)

## 文档更新原则

1. **如果是规则，就用 Lint 报错**
2. **如果是常量，就用 Token 生成**
3. **如果是流程，就用 Mermaid 绘图**
4. **如果是性能，就用指标量化**

这样，文档将不再是一份需要死记硬背的"法条"，而是一份阐述"为什么我们要这么做"的**战略指南**。

---

## 文档维护规范

所有文档编写和维护必须遵循 **[《文档开发与维护规范》](./文档开发与维护规范.md)**，核心原则：

- ✅ **严禁硬编码**: 文档中禁止出现代码中已定义的具体数值
- ✅ **指向而非复制**: 代码能说明的问题，文档仅保留文件路径链接
- ✅ **工具强制**: 能通过工具检查的规则，文档只解释"为什么"

---

## 文档清单

### 稳定层（Principles）

1. [框架开发规范文档](./GameplayTag%20框架开发规范文档.md) - 分层架构、依赖规则
2. [交互与体验开发手册](./GameplayTag%20交互与体验开发手册.md) - 乐观更新、物理感原则
3. [无障碍设计规范](./无障碍设计规范.md) - 无障碍、微文案、错误处理

### 易变层（Reference）

1. [设计系统规范](./GameplayTag%20Design%20System%20Specification.md) - 设计 Token 语义说明
2. [工程化与构建指南](./工程化与构建指南.md) - 构建、检查、代码生成、环境配置

### 元文档（Meta）

1. [文档开发与维护规范](./文档开发与维护规范.md) - 文档编写标准
2. [文档索引](./文档索引.md) - 本文档
